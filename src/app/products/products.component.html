<div class="dndPlaceholder" #placeholder></div>
<div class="product-space">
  <div class="toolbar">
    <div class="product-link"><a routerLink="/">Products</a></div>
    <div class="buttons">
      <div class="toolbar-element" (click)="get_products()" [ngClass]="{'disabled': !this.products.length}">
        <i class="fa fa-refresh" aria-hidden="true" [ngClass]="{'fa-spin': !this.products.length}"></i>
      </div>
      <div class="toolbar-element" (click)="open_settings(settings)" [ngClass]="{'hidden': setting_is_visible(), 'disabled': !this.products.length}">
        <i class="fa fa-cogs" aria-hidden="true"></i>
      </div>
      <div class="toolbar-element" (click)="pin_list()">
        <i class="fa fa-thumb-tack" aria-hidden="true" [ngClass]="{'fa-rotate-270': !pinned}"></i>
      </div>
    </div>
  </div>
  <div class="item-list" [dndList] [dndModel]="products" [dndPlaceholder]="placeholder">
    <div class="item hoverer" routerLinkActive="activated" *ngFor="let product of products"
         [dndDragDisabled] = pinned
         [dndDraggable]
         [dndType]="product"
         (dndMoved)="removeItem(product, products)"
         [class.selected]="products.selected === product"
         [dndObject]="product">
      <div class="item-name"><a [routerLink]="['/product', product.id]"
                                routerLinkActive="low-priority">{{product.name}}</a>
      </div>
    </div>
  </div>
</div>
<app-product-settings #settings [products] = products (update_products)="update_products($event)"></app-product-settings>
<router-outlet></router-outlet>
