<div class="result-set-space very-big-column">
  <div class="statistic-block" *ngIf="this.statuses">
    <div  *ngFor="let current_statistic of  this.statistic['all']" class="one-status">
      <div class="status-color-block" [ngStyle]="{'background': this.statuses[current_statistic].color }" *ngIf="this.statuses[current_statistic]"></div>
      <span class="status-name" *ngIf="this.statuses[current_statistic]">{{   this.statistic[current_statistic] }} {{  this.statuses[current_statistic].name}}</span>
    </div>
  </div>
  <div class="add-result-block disabled" (click)="add_result_modal(result_setadd_resultModal)">
    <span>Add result </span><span class="badge">{{this.selected_counter.length}}</span>
  </div>
  <div class="result-set-block" routerLinkActive="active" *ngFor="let result_set of result_sets; let index = index"  [ngStyle]="getStyles(result_set.status)"  (mouseenter)="show_settings_button(index)" (mouseleave)="hide_settings_button(index)">
    <div class="result-set-name-and-status">
      <input type="checkbox" name="result_option" (change)="selectCounter(result_set)" [value]="result_set.id">
      <div class="status result-set-status status-name" *ngIf="this.statuses">
        {{this.statuses[result_set.status].name}}
        <div class="status-color-block" [ngStyle]="getStylesBackround(this.statuses[result_set.status].id)"></div>
      </div>
      <a id="result_set-name-{{index}}" (click)="set_space_width()" [routerLink]="['./result_set', result_set.id]">{{result_set.name}}</a>
      <div id="{{index}}" class="setting result-set-setting-button" (click)="settings(result_setsettingsModal, result_set, index, settingsform);">
      </div>
    </div>
  </div>
</div>
<modal #result_setsettingsModal>
  <modal-header>
    <h1>result_set settings</h1>
  </modal-header>
  <modal-content>
    Change result_set name
    <form autocomplete="off" #settingsform="ngForm"  (ngSubmit)="edit_result_set(settingsform, result_setsettingsModal, settingsform.valid )">
      <input type="text" class="result-set-name" name="result_set_name" ngModel required #result_set_name="ngModel" autofocus>
      <small [hidden]="result_set_name.valid || (result_set_name.pristine && !settingsform.submitted)">
        result_set name can't be empty.
      </small>
    </form>
  </modal-content>
  <modal-footer>
    <button class="btn btn-danger result-set-delete-button" (click)="delete_result_set(result_setsettingsModal)">Delete</button>
    <button class="btn btn-success" [disabled]="!settingsform.valid" (click)="settingsform.ngSubmit.emit(settingsform)">Save</button>
  </modal-footer>
</modal>

<modal #result_setadd_resultModal>
  <modal-header>
    <h1>Add Result</h1>
  </modal-header>
  <modal-content>
    Add result for <b>{{this.selected_counter.length}}</b> result_sets
    <form autocomplete="off" #addresultform="ngForm"  (ngSubmit)="add_results(addresultform, result_setadd_resultModal, addresultform.valid )">
      <div class="status_color" [ngStyle]="{'background': this.statuses[this.statuses_array[0]].color }" *ngIf="this.statuses"></div>
      <div>
        <label>Status</label>
        <select id="status" name="result_status" ngModel required #result_status="ngModel" (click)="changer_header_color()">
          <!--FIXME: need to set correct varible convert method-->
          <option *ngFor="let status of  this.statuses_array" [value]="status" [selected]="status == (this.selected_color + '')" >
            {{this.statuses[status].name}}
          </option>
        </select>
      </div>
      <input type="text" placeholder="Result description" class="result-description" name="result_description" ngModel required #result_description="ngModel" autofocus>
    </form>
  </modal-content>
  <modal-footer>
    <button class="btn btn-success" (click)="addresultform.ngSubmit.emit(addresultform)">Add result</button>
  </modal-footer>
</modal>
<router-outlet></router-outlet>
