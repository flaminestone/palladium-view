<div class="run-space">
  <div class="toolbar">
    <div class="filter" [ngClass]="{'hidden': loading}">
      <div *ngFor="let status of statuses" class="status-block" (click)="select_filter(status)"
           [ngStyle]="{'border-bottom': '7px solid ' + status.color}"
           [ngClass]="{'hidden': hide_element(this.statistic, status), 'activated': status.active}">

        <div class="status">
          <div class="status-count">{{this.statistic.extended[status.id] || 0}}</div>
          <div class="status-name">{{status.name}}</div>
        </div>
      </div>
    </div>
    <div class="buttons">
      <div class="toolbar-element" (click)="update_click()" [ngClass]="{'disabled': this.loading}">
        <i class="fa fa-refresh" aria-hidden="true" [ngClass]="{'fa-spin': this.loading}"></i>
      </div>
      <div class="toolbar-element" (click)="open_settings()" *ngIf="toolbar_opened()" [ngClass]="{'disabled': this.loading}">
        <i class="fa fa-cogs" aria-hidden="true"></i>
      </div>
    </div>
  </div>

  <div class="item-list" (scroll)="colScroll($event)">
    <div [style.height.px]="Math.max(0, Math.max(0, scrollPos - 10) * 53.5 )"></div>
    <div class="item-wrapper hoverer" *ngFor="let object of runs_and_suites| statisticFilter:filter| virtualscroll:scrollPos:20; let index = index">
      <app-run [filter]=filter [object]=object [index]=index [statuses]=statuses *ngIf="object.path === './run'"></app-run>
      <app-suite (replace_to_run)="replace_to_run($event)" [object]=object [index]=index [statuses]=statuses *ngIf="object.path === './suite'"></app-suite>
    </div>
    <div [style.height.px]="Math.max(0, (runs_and_suites.length - scrollPos - 20)  * 53.5)"></div>
  </div>
</div>
<router-outlet (activate)="onActivate($event)"></router-outlet>
