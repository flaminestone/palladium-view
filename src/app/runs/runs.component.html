<div class="run-space very-big-column">
  {{statistic | json}}
  <div class="run-block" routerLinkActive="active" *ngFor="let object of runs_and_suites; let index = index" (mouseenter)="show_settings_button(index)" (mouseleave)="hide_settings_button(index)">
    <div id="{{index}}" class="setting run-setting-button" (click)="settings(runsettingsModal, object, index, settingsform);">
      <i class="fa fa-cog" aria-hidden="true"></i>
    </div>
    <div class="run-name">
      <span class="lost-result">{{object.all_statistic['attitude'] || 0 | percent}}</span>
      <div class="run-name-link">
      <div class="statistic status-name">
        <ng-container *ngIf="this.statuses">
        <span *ngFor="let status of object.statistic" class="status-position"
              [ngStyle]="{ 'width': (status.count / object.all_statistic['all'] * 100) + '%', 'background-color': this.statuses[status.status]['color']}">
        </span>
        </ng-container>
      </div>
     <a id="run-name-{{index}}" class="run-name" (click)="set_space_width(index)" [routerLink]="['./' + object.constructor.name.toLowerCase(), object.id]">{{object.name}}</a>
      </div>
      <div *ngIf="this.statuses" class="status-legend-small-block">
        <span *ngFor="let status of object.statistic" class="status-legend-small">
          {{ status['count'] }} {{ this.statuses[status['status']]['name'] }},
        </span>
      </div>
    </div>
  </div>
</div>

<modal #runsettingsModal>
  <modal-header>
    <h1>Run settings</h1>
  </modal-header>
  <modal-content>
    Change run name
    <form autocomplete="off" #settingsform="ngForm"  (ngSubmit)="edit_run(settingsform, runsettingsModal, settingsform.valid )">
      <input type="text" class="run-name" name="run_name" ngModel required #run_name="ngModel" autofocus>
      <small [hidden]="run_name.valid || (run_name.pristine && !settingsform.submitted)">
        Run name can't be empty.
      </small>
    </form>
  </modal-content>
  <modal-footer>
    <button class="btn btn-danger plan-delete-button" (click)="delete_object(runsettingsModal)">Delete</button>
    <button class="btn btn-success" [disabled]="!settingsform.valid" (click)="settingsform.ngSubmit.emit(settingsform)">Save</button>
  </modal-footer>
</modal>

<router-outlet (childEvent)="test(message)"></router-outlet>
