<div class="history-space">
  <div class="toolbar"><h1>History</h1></div>
  <div class="item-list">
    <ng-container *ngIf="history && statuses">

    <!--| sortByCreatedAt:'desc'-->
    <div class="item bipolar-item big-item" *ngFor="let plan of history | SortByUpdatedAt:'desc'">
      <div class="small-block" [ngStyle]="getStyles(plan['run']['result_set']['status'])">
        <div class="sub-blocks-holder">
          <div class="sub-block"><a class="detail_link" href="{{plan_url(plan['plan_id'])}}" target="_blank"><b>{{plan['plan_name']}}</b></a></div>
          <div class="sub-block"><a href="{{run_url(plan['run']['run_id'])}}" target="_blank">Run Detail</a></div>
          <div class="sub-block"><a href="{{result_set_url(plan['run']['result_set']['result_set_id'])}}" target="_blank">Results Detail</a></div>
          <div class="sub-block"><b>{{this.statuses[plan['run']['result_set']['status']]['name']}}</b></div>
        </div>
      </div>
      <div class="big-block">
        <div class="status-history">
          <div class="item-statistic">
            <div *ngFor="let status of plan['run']['result_set']['statistic'].existed_statuses"
                 [ngStyle]="{ 'width': (plan['run']['result_set']['statistic'].extended[status] / plan['run']['result_set']['statistic'].all * 100) + '%', 'background-color': statuses[status]['color']}">
            </div>
            <!--{{ plan['run']['result_set']['statistic'] | json}}-->
          </div>
        </div>
      </div>
    </div>
    </ng-container>
  </div>
</div>



